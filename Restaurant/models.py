from typing import Iterable, Optional
from django.db import models
from User.models  import Restaurant ,Customer
from uuid import uuid4
from datetime import *
from django.utils import timezone

default_food_pic = "data:image/jpeg;base64,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"

class Food(models.Model):
    name = models.CharField(max_length=255)
    price = models.DecimalField(decimal_places=2,max_digits=20 , null= True )
    ingredients = models.CharField(max_length=2048, null=True , blank=True)
    food_pic = models.TextField(default=default_food_pic, blank=True, null=True)
    restaurant = models.ForeignKey(Restaurant,on_delete= models.CASCADE , related_name= 'food' )
    remainder = models.IntegerField(default=0)
    def save(self, *args, **kwargs):
        if self.food_pic == "" or self.food_pic==None:
            self.food_pic = default_food_pic
        super().save(*args, **kwargs)
    def __str__(self) -> str:
        return self.name

class Order(models.Model):
    status = (
        ("InProgress", "InProgress"), 
        ("Completed", "Completed"), 
        ("Cancled", "Cancled"), 
        # ("Ordered","Ordered") ,# before restaurant confirmation
        ("notOrdered","notOrdered"),
    )
    id = models.UUIDField(primary_key=True, default=uuid4)
    status = models.CharField(choices = status , default= "notOrdered", max_length= 255)
    restaurant = models.ForeignKey(Restaurant,on_delete=models.CASCADE,related_name="Orders")
    userId = models.ForeignKey(Customer,on_delete=models.DO_NOTHING,related_name="Orders")
    created_at = models.DateTimeField(auto_now_add= True)
    def __str__(self) -> str:
        return "user: " + str(self.userId) + " - order id: " + str(self.id)
    # class Meta:
    #     unique_together = ('userId', 'restaurant',)

class OrderItem(models.Model):
    food = models.ForeignKey(Food,on_delete=models.DO_NOTHING,related_name="orderItems")
    quantity = models.IntegerField(default= 0)
    order = models.ForeignKey(Order,on_delete=models.CASCADE,related_name="orderItems")

class Comment(models.Model):
    restaurant = models.ForeignKey(Restaurant,on_delete=models.CASCADE,related_name="comments")
    writer = models.ForeignKey(Customer, on_delete=models.CASCADE)
    text = models.CharField(max_length=512, default="", blank=True)
    created_at = models.DateTimeField(auto_now_add= True)
    class Meta:
        ordering = ['-created_at']
    def __str__(self) -> str:
        return str(self.writer.name) + " "+  str(self.restaurant.name)
